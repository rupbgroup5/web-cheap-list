(this["webpackJsonpweb-cheap-list"]=this["webpackJsonpweb-cheap-list"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),i=(n(95),n(31)),s=(n(96),n(23)),l=Object(i.h)((function(){var e=Object(i.g)().id;return r.a.createElement("nav",null,r.a.createElement(s.b,{to:"/HomePage/".concat(e)},"\u05d4\u05e7\u05d1\u05d5\u05e6\u05d5\u05ea \u05e9\u05dc\u05d9")," |",r.a.createElement(s.b,{to:"/TempPage/".concat(e)},"\u05d3\u05e3 \u05d6\u05de\u05e0\u05d9")," |",r.a.createElement("br",null))})),u=n(37),p=n(21),d=n(9),m=n.n(d),h=n(15),f=n(10),b=function(e){return r.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24"},e))},g=function(){return r.a.createElement(b,null,r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"}))},y=n(169),E=n(171),j=n(178),v=n(170),O=n(38),x=(n(69),n(19)),P=n.n(x),k=(n(55),n(104),function(e){var t=e.description,n=e.icon,a=e.name;return r.a.createElement("div",{className:"listItemComponent"},r.a.createElement("div",{className:"label"},n,r.a.createElement("span",{className:"name"},a)),t&&r.a.createElement("div",{className:"desciption"},t))}),C=(n(105),function(e){var t=e.icon,n=e.color,a=(e.side,e.label);return r.a.createElement("div",{style:{background:n}},r.a.createElement("div",{className:"content"},t,a&&r.a.createElement("span",null,a)))}),G=n(167),N=n(172),w=n(175),_=n(166),S=n(165),B=n(176),T=n(159),D=n(78),I=n.n(D);function L(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),s=Object(f.a)(i,2),l=s[0],u=s[1],p=function(){o(!1)};return r.a.createElement("div",null,r.a.createElement(T.a,{color:"primary","aria-label":"add"},r.a.createElement(I.a,{onClick:function(){o(!0)},style:{position:"sticky"}})),r.a.createElement(w.a,{open:c,onClose:p,"aria-labelledby":"form-dialog-title"},r.a.createElement(B.a,{id:"form-dialog-title"},e.headLine),r.a.createElement(S.a,null,r.a.createElement(N.a,{onChange:function(e){return u(e.target.value)},autoFocus:!0,margin:"dense",id:"name",label:e.label,type:"text",fullWidth:!0})),r.a.createElement(_.a,null,r.a.createElement(G.a,{onClick:p,color:"primary"},"\u05d1\u05d8\u05dc"),r.a.createElement(G.a,{onClick:function(){o(!1),console.log("dialog",l),e.getData(l)},color:"primary"},"\u05d0\u05d9\u05e9\u05d5\u05e8"))))}var U=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppUsers/AuthenticateContact/".concat(t),{method:"GET",headers:new Headers({"Content-Type":"application/json; charset=UTF-8"})});case 2:return n=e.sent,e.next=5,n.json();case 5:if(0!==(a=e.sent).UserID){e.next=11;break}return r={UserName:t,PhoneNumber:t},console.log("into if"),e.next=11,fetch("http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppUsers/SystemPostUser",{method:"POST",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){console.log("The ",e," was successfully added!"),a=e}),(function(e){console.log(e)}));case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=n(177),A=n(173);function H(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),c=n[0],o=n[1],i=[],s=Object(a.useState)([].concat(i)),l=Object(f.a)(s,2),u=l[0],d=l[1];Object(a.useEffect)((function(){!function(){var t=Object(h.a)(m.a.mark((function t(){var n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppUsers/GetUserContacts/".concat(e.userID),{method:"GET",headers:new Headers({"Content-Type":"application/json; charset=UTF-8"})});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,console.log("data",a),o(a);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e.userID]);return r.a.createElement("span",null,r.a.createElement("h5",null,"\u05d1\u05d7\u05e8 \u05d0\u05e0\u05e9\u05d9 \u05e7\u05e9\u05e8 \u05dc\u05e7\u05d1\u05d5\u05e6\u05ea ",e.groupName),r.a.createElement(A.a,{multiple:!0,id:"fixed-tags-demo",value:u,onChange:function(e,t){d([].concat(i,Object(p.a)(t.filter((function(e){return-1===i.indexOf(e)})))))},options:c,getOptionLabel:function(e){return e.Name},renderTags:function(e,t){return e.map((function(e,n){return r.a.createElement(F.a,Object.assign({label:e.Name},t({index:n}),{disabled:-1!==i.indexOf(e)}))}))},style:{width:350},renderInput:function(e){return r.a.createElement(N.a,Object.assign({},e,{label:"Contacts",variant:"outlined",placeholder:"\u05d7\u05e4\u05e9"}))}}),r.a.createElement("button",{onClick:function(){console.log("value",u),0!==u.length?e.close(u):alert("\u05dc\u05d0 \u05d1\u05d7\u05e8\u05ea \u05de\u05e9\u05ea\u05ea\u05e4\u05d9\u05dd \u05e2\u05d3\u05d9\u05d9\u05df")}},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05e0\u05e9\u05d9 \u05e7\u05e9\u05e8 "))}var M=function(e,t,n){console.log("token",e,"Admin",t,"Group",n);var a={to:e,title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05dc\u05e7\u05d1\u05d5\u05e6\u05d4",body:"".concat(t," \u05d4\u05d5\u05e1\u05d9\u05e3 \u05d0\u05d5\u05ea\u05da \u05dc").concat(n),badge:1,data:{name:"yogev"}};fetch("http://cors-anywhere.herokuapp.com/https://exp.host/--/api/v2/push/send",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){null!=e?console.log("returned from server\njson.data= ".concat(JSON.stringify(e.data))):alert("err json")}))},J=Object(a.createContext)(),R=function(e){var t=Object(a.useState)(),n=Object(f.a)(t,2),c=n[0],o=n[1];return r.a.createElement(J.Provider,{value:{groupDetails:c,SetGroupDetails:o}},e.children)},q=Object(y.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column"},"& > *":{marginBottom:e.spacing(2)},"& .MuiBadge-root":{marginRight:e.spacing(4)}}}));var W=Object(i.h)((function(){var e=Object(a.useContext)(J).SetGroupDetails,t=Object(i.g)().userIDfromRN,n=q(),c=Object(a.useState)([]),o=Object(f.a)(c,2),s=o[0],l=o[1],d=Object(a.useState)(),b=Object(f.a)(d,2)[1],y=Object(a.useState)(),x=Object(f.a)(y,2),G=x[0],N=x[1],w=Object(i.f)(),_="http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppGroups/",S=Object(a.useState)(!1),B=Object(f.a)(S,2),T=B[0],D=B[1],I=Object(a.useState)(),F=Object(f.a)(I,2),A=F[0],R=F[1];Object(a.useEffect)((function(){!function(){var e=Object(h.a)(m.a.mark((function e(){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppGroups/".concat(t),{method:"GET",headers:new Headers({"Content-Type":"application/json; charset=UTF-8"})});case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,console.log("data",a),l(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),localStorage.clear("list")}),[t]);var W=function(){var e=Object(h.a)(m.a.mark((function e(n){var a,r,c,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r=0;case 2:if(!(r<n.length)){e.next=11;break}return e.next=5,U(n[r].PhoneNumber);case 5:return c=e.sent,e.next=8,a.push(c);case 8:r++,e.next=2;break;case 11:for(console.log("participiantsArr",a),o={GroupName:A,UserID:t,Participiants:a},i=0;i<a.length;i++)null!==a[i].ExpoToken&&M(a[i].ExpoToken,s[0].UserName,A);fetch(_,{method:"POST",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){console.log("The ",e," was successfully added!"),l([].concat(Object(p.a)(s),[Object(u.a)({},e)])),console.log(e)}),(function(e){console.log(e)})),console.log(s);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e,t){return{content:r.a.createElement("span",{style:{background:"red",width:"100%",direction:"ltr"}},r.a.createElement(C,{icon:r.a.createElement(g,null),label:"Delete",side:"right"})),action:function(){return b(function(e,t){G>=70&&P()({title:"\u05de\u05d7\u05d9\u05e7\u05ea \u05e7\u05d1\u05d5\u05e6\u05d4",text:"!\u05db\u05dc \u05e8\u05e9\u05d9\u05de\u05d5\u05ea \u05d4\u05e7\u05d1\u05d5\u05e6\u05d4 \u05d9\u05de\u05d7\u05e7\u05d5 \u05d2\u05dd \u05d4\u05dd",buttons:["\u05d1\u05d8\u05dc","\u05de\u05d7\u05e7"],dangerMode:!0}).then((function(n){n&&fetch(_+e,{method:"DELETE",headers:new Headers({"Content-type":"application/json; charset=UTF-8"})}).then((function(e){return e.json()})).then((function(e){s.splice(t,1),l(Object(p.a)(s)),console.log("The ",e," was successfully deleted!"),P()("\u05d4\u05e7\u05d1\u05d5\u05e6\u05d4 \u05e0\u05de\u05d7\u05e7\u05d4 ")}),(function(e){console.log(e)}))}))}(e,t))}}},z=function(e){for(var t=e.Participiants[0].UserName,n=1;n<e.Participiants.length;n++)t+=", "+e.Participiants[n].UserName;return t};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"\u05d4\u05e7\u05d1\u05d5\u05e6\u05d5\u05ea \u05e9\u05dc\u05d9")),r.a.createElement("div",{className:"Maincontent"},s.map((function(t,a){return r.a.createElement("span",{key:a,onClick:function(){return function(t){e(s[t]),w.push("/AGroups")}(a)}},r.a.createElement(O.SwipeableList,{className:n.root,threshold:.25},r.a.createElement(O.SwipeableListItem,{swipeRight:V(t.GroupID,a),onSwipeProgress:N},r.a.createElement(v.a,{style:{marginRight:"5px"}},r.a.createElement(E.a,{badgeContent:10,color:"secondary"},r.a.createElement(j.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"}))),r.a.createElement(k,{name:t.GroupName,description:z(t)}))))})),r.a.createElement("br",null),T&&r.a.createElement(H,{userID:t,groupName:A,close:function(e){D(!1),W(e)},style:{textAlign:"center"}})),r.a.createElement("div",{className:"footer"},r.a.createElement(L,{getData:function(e){console.log("groupName",e),R(e),D(!0)},userID:t,headLine:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05e7\u05d1\u05d5\u05e6\u05d4",label:"\u05e9\u05dd \u05d4\u05e7\u05d1\u05d5\u05e6\u05d4"})))})),V=n(4),z=n(168),$=n(81),K=n.n($),Q=Object(a.createContext)(),X=function(e){var t=Object(a.useState)({}),n=Object(f.a)(t,2),c=n[0],o=n[1];return r.a.createElement(Q.Provider,{value:{listObj:c,SetListObj:o}},e.children)},Y=Object(y.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column"},"& > *":{marginBottom:e.spacing(2),margin:e.spacing(1),width:"25ch"},"& .MuiBadge-root":{marginRight:e.spacing(4)}}})),Z=Object(V.a)((function(e){return{badge:{right:-3,top:13,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(E.a);var ee=Object(i.h)((function(){var e=Object(a.useContext)(J).groupDetails,t=Object(a.useContext)(Q).SetListObj,n=Y(),c=Object(i.f)(),o=Object(a.useState)(e.GroupName),s=Object(f.a)(o,2),l=s[0],d=s[1],b=Object(a.useState)([]),y=Object(f.a)(b,2),E=y[0],j=y[1],v=Object(a.useState)(),x=Object(f.a)(v,2)[1],G=Object(a.useState)(),w=Object(f.a)(G,2),_=w[0],S=w[1],B=Object(a.useRef)(null),T="",D="http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppGroups/",I="http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppList/";Object(a.useEffect)((function(){!function(){var t=Object(h.a)(m.a.mark((function t(){var n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppList/".concat(e.GroupID),{method:"GET",headers:new Headers({"Content-Type":"application/json; charset=UTF-8"})});case 3:return n=t.sent,t.next=6,n.json();case 6:a=t.sent,j(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()()}),[e]);var U=function(e,t){return{content:r.a.createElement("span",{style:{background:"red",width:"100%",direction:"ltr"}},r.a.createElement(C,{icon:r.a.createElement(g,null),side:"right"})),action:function(){return x(function(e,t){_>=70&&P()({title:"\u05de\u05d7\u05d9\u05e7\u05ea \u05e8\u05e9\u05d9\u05de\u05d4",text:"\u05db\u05dc \u05e4\u05e8\u05d9\u05d8\u05d9 \u05d4\u05e8\u05e9\u05d9\u05de\u05d4 \u05d9\u05de\u05d7\u05e7\u05d5 \u05d2\u05dd \u05d4\u05dd ",buttons:["\u05d1\u05d8\u05dc","\u05de\u05d7\u05e7"],dangerMode:!0}).then((function(n){n&&fetch(I+e,{method:"DELETE",headers:new Headers({"Content-type":"application/json; charset=UTF-8"})}).then((function(e){return e.json()})).then((function(e){console.log("The ",e," was successfully deleted!"),E.splice(t,1),j(Object(p.a)(E)),P()("\u05d4\u05e8\u05e9\u05d9\u05de\u05d4 \u05e0\u05de\u05d7\u05e7\u05d4 ")}),(function(e){console.log(e)}))}))}(e,t))}}};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header"},r.a.createElement(N.a,{id:"outlined-basic",variant:"outlined",onInput:function(e){T="",T=e.target.value},placeholder:l,onBlur:function(){console.log(T),""!==T&&P()({title:"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05e9\u05dd \u05e7\u05d1\u05d5\u05e6\u05d4",buttons:["\u05d4\u05ea\u05d7\u05e8\u05d8\u05ea\u05d9","\u05e9\u05e0\u05d4 \u05d0\u05ea \u05d4\u05e9\u05dd"],dangerMode:!0}).then((function(t){if(t){console.log(T);var n={GroupID:e.GroupID,GroupName:T};fetch(D,{method:"PUT",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){d(T),console.log("The name of ",e," id was changed"),P()("\u05e9\u05dd \u05d4\u05e7\u05d1\u05d5\u05e6\u05d4 \u05e9\u05d5\u05e0\u05d4")}),(function(e){console.log(e)}))}else B.current.value=""}))},inputRef:B})),r.a.createElement("div",{className:"Maincontent"},E.map((function(e,a){return r.a.createElement("span",{key:a,onClick:function(){return function(e){t(E[e]),c.push("/AList")}(a)}},r.a.createElement(O.SwipeableList,{key:a,className:n.root,threshold:.25},r.a.createElement(O.SwipeableListItem,{swipeRight:U(e.ListID,a),onSwipeProgress:S},r.a.createElement(z.a,{"aria-label":"cart"},r.a.createElement(Z,{badgeContent:4,color:"secondary"},r.a.createElement(K.a,null))),r.a.createElement(k,{name:e.ListName,description:"\u05e1\u05da \u05e2\u05dc\u05d5\u05ea \u05de\u05e9\u05d5\u05e2\u05e8\u05ea: ".concat(0===e.ListEstimatedPrice?0:Number(e.ListEstimatedPrice).toFixed(2))}))))}))),r.a.createElement("div",{className:"footer"},r.a.createElement(L,{getData:function(t){var n={ListName:t,GroupID:e.GroupID,UserID:e.UserID};fetch(I,{method:"POST",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){console.log("The ",e," was successfully added!"),console.log("resultPostList",e),j([].concat(Object(p.a)(E),[Object(u.a)({},e)])),console.log(E)}),(function(e){console.log(e)}))},headLine:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05e8\u05e9\u05d9\u05de\u05d4",label:"\u05e9\u05dd \u05d4\u05e8\u05e9\u05d9\u05de\u05d4"})))})),te=Object(i.h)((function(){var e=Object(i.g)(),t=e.id,n=e.name;return r.a.createElement("div",null,r.a.createElement("h1",null,"temp page"),r.a.createElement("h1",null,"look at this id"),r.a.createElement("h2",null,t,", ",n),r.a.createElement("button",{onClick:function(){alert("lets go");fetch("http://localhost:56794/api/AppUsers/updateUserContacts",{method:"POST",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify({UserID:1,Contacts:[{Name:"\u05d2'\u05dc\u05d0\u05dc \u05d4.\u05e2\u05d5\"\u05d3 gam engli",PhoneNumber:"972526485161123"},{Name:"\u05d4\u05dc\u05d5\u05d5\u05d0\u05d9 \u05d1\u05e8\u05d9\u05d1\u05d5\u05e2",PhoneNumber:"+972-50555-4422"}]})}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){console.log(e)}))}},"test the localStorage"))}));var ne=Object(i.h)((function(){var e=Object(a.useContext)(Q).listObj,t=Object(a.useState)(e),c=Object(f.a)(t,2),o=c[0],i=c[1],s=Object(a.useState)(o.ListName),l=Object(f.a)(s,2),d=l[0],b=l[1],g=Object(a.useRef)(null),y=n(107),E=Object(a.useState)([]),j=Object(f.a)(E,2),v=j[0],O=j[1],x=Object(a.useState)([]),k=Object(f.a)(x,2),C=k[0],G=k[1],w=Object(a.useState)([]),_=Object(f.a)(w,2),S=_[0],B=_[1],T="https://api.superget.co.il?api_key=847da8607b5187d8ad1ea24fde8ee8016b19a6db&",D="",I="",L="",U=0,F="http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppProduct/",A="http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppList/";Object(a.useEffect)((function(){Object(h.a)(m.a.mark((function t(){var n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppProduct/".concat(e.ListID),{method:"GET",headers:new Headers({"Content-Type":"application/json; charset=UTF-8"})});case 3:return n=t.sent,t.next=6,n.json();case 6:a=t.sent,G(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()}),[e]);var H={TestFunction:{action:"TestFunction"},GetChains:{action:"GetChains"},GetStoresByChain:{action:"GetStoresByChain",chain_id:"",sub_chain_id:"",limit:10},GetStoresByCityID:{action:"GetStoresByCityID",city_id:"",limit:3},GetStoresByGPS:{action:"GetStoresByGPS",chain_id:"",sub_chain_id:"",latitude:"",longitude:"",km_radius:"",order:"",limit:10},GetProductsByBarCode:{action:"GetProductsByBarCode",product_barcode:"",limit:3},GetProductsByID:{action:"GetProductsByID",product_id:"",limit:10},GetProductsByName:{action:"GetProductsByName",product_name:"",limit:5},GetPrice:{action:"GetPrice",store_id:"",limit:10},GetPriceByProductBarCode:{action:"GetPriceByProductBarCode",store_id:"",product_barcode:""},GetPriceByProductID:{action:"GetPriceByProductID",store_id:"",product_id:""},GetHistoryByProductBarCode:{action:"GetHistoryByProductBarCode",store_id:"",product_barcode:"",from_date:"",to_date:""},GetHistoryByProductID:{action:"GetHistoryByProductID",store_id:"",product_id:"",from_date:"",to_date:""},GetCities:{action:"GetCities",limit:10},GetCityByName:{action:"GetCityByName",city_name:"",limit:1}},M=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(A+L+"/"+o.ListID,{method:"PUT"});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,o.CityName=n.CityName,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(A+"limit/"+U+"/"+o.ListID,{method:"PUT"});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,o.LimitPrice=n.LimitPrice,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n,a,r,c,i,s,l,u,d,h,f,b,g,E;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===o.CityName||""===D){e.next=71;break}return e.prev=1,H.GetCityByName.city_name=o.CityName,t=y.stringifyUrl({url:T,query:H.GetCityByName}),e.next=6,fetch(t,{method:"GET"});case 6:return n=e.sent,e.next=9,n.json();case 9:return a=e.sent,console.log("resultCity",a),H.GetProductsByName.product_name=D,t=y.stringifyUrl({url:T,query:H.GetProductsByName}),e.next=15,fetch(t,{method:"GET"});case 15:return r=e.sent,e.next=18,r.json();case 18:return c=e.sent,console.log("product",c),H.GetStoresByCityID.city_id=a[0].city_id,e.next=23,y.stringifyUrl({url:T,query:H.GetStoresByCityID});case 23:return t=e.sent,e.next=26,fetch(t,{method:"GET"});case 26:return i=e.sent,e.next=29,i.json();case 29:s=e.sent,l=[],u=0;case 32:if(!(u<c.length)){e.next=63;break}d=0,h=0,f=0;case 36:if(!(f<s.length)){e.next=56;break}return H.GetPriceByProductBarCode.store_id=s[f].store_id,H.GetPriceByProductBarCode.product_barcode=c[u].product_barcode,e.next=41,y.stringifyUrl({url:T,query:H.GetPriceByProductBarCode});case 41:return t=e.sent,e.next=44,fetch(t,{method:"GET"});case 44:return b=e.sent,e.next=47,b.json();case 47:if("NO_DATA"!==(g=e.sent).error_type){e.next=51;break}return console.log("err"),e.abrupt("continue",53);case 51:d+=JSON.parse(g[0].store_product_price),h++;case 53:f++,e.next=36;break;case 56:d/=h,console.log("my price",d),E={product_barcode:c[u].product_barcode,product_name:c[u].product_name,product_description:c[u].product_description,product_image:c[u].product_image,manufacturer_name:c[u].manufacturer_name,estimatedProductPrice:Number(d.toFixed(2))},l.push(E);case 60:u++,e.next=32;break;case 63:O.apply(void 0,Object(p.a)(v).concat([l])),e.next=69;break;case 66:e.prev=66,e.t0=e.catch(1),console.log(e.t0);case 69:e.next=72;break;case 71:alert("\u05de\u05dc\u05d0 \u05d0\u05ea \u05d4\u05e9\u05d3\u05d5\u05ea \u05ea\u05d7\u05d9\u05dc\u05d4");case 72:case"end":return e.stop()}}),e,null,[[1,66]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.a)({},v[t],{ListID:o.ListID,GroupID:o.GroupID}),e.next=3,fetch(F,{method:"POST",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify(n)});case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,console.log("result",r),o.ListEstimatedPrice+=r.estimatedProductPrice,i(o),O([]),G([].concat(Object(p.a)(C),[r])),alert("\u05d4\u05de\u05d5\u05e6\u05e8 \u05d4\u05ea\u05d5\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n,a,r,c,i,s,l,u,p,d,h,f;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H.GetCityByName.city_name=o.CityName,console.log(o.CityName),t=y.stringifyUrl({url:T,query:H.GetCityByName}),console.log("0"),e.next=7,fetch(t,{method:"GET"});case 7:return n=e.sent,e.next=10,n.json();case 10:return a=e.sent,console.log("1"),H.GetStoresByCityID.city_id=a[0].city_id,e.next=15,y.stringifyUrl({url:T,query:H.GetStoresByCityID});case 15:return t=e.sent,e.next=18,fetch(t,{method:"GET"});case 18:return r=e.sent,e.next=21,r.json();case 21:c=e.sent,console.log("2"),i=[],s=0;case 25:if(!(s<c.length)){e.next=53;break}l=0,u=[],p=0;case 29:if(!(p<C.length)){e.next=48;break}return H.GetPriceByProductBarCode.product_barcode=C[p].product_barcode,H.GetPriceByProductBarCode.store_id=c[s].store_id,t=y.stringifyUrl({url:"https://cors-anywhere.herokuapp.com/"+T,query:H.GetPriceByProductBarCode}),e.next=35,fetch(t,{method:"GET"});case 35:return d=e.sent,e.next=38,d.json();case 38:if(h=e.sent,console.log("3"),"NO_DATA"!==h.error_type){e.next=44;break}return alert("\u05d4\u05de\u05d5\u05e6\u05e8 "+C[p].product_name+" \u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05d1\u05d7\u05e0\u05d5\u05ea \u05d6\u05d5 "),u.push(C[p]),e.abrupt("continue",45);case 44:l+=JSON.parse(h[0].store_product_price);case 45:p++,e.next=29;break;case 48:f={OutOfStock:u,Store:c[s],TotalPrice:Number(l.toFixed(2))},i.push(f);case 50:s++,e.next=25;break;case 53:B(i),console.log("store",S),e.next=60;break;case 57:e.prev=57,e.t0=e.catch(0),console.log(e.t0);case 60:case"end":return e.stop()}}),e,null,[[0,57]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(h.a)(m.a.mark((function e(t,n){var a,r,c,o,i,s,l,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(S[t].OutOfStock[n]),a=S[t].OutOfStock[n],H.GetProductsByName.product_name=a.product_description,r=y.stringifyUrl({url:T,query:H.GetProductsByName}),e.next=6,fetch(r,{method:"GET"});case 6:return c=e.sent,e.next=9,c.json();case 9:o=e.sent,i=[],s=0;case 12:if(!(s<o.length)){e.next=31;break}return H.GetPriceByProductBarCode.store_id=S[t].store_id,H.GetPriceByProductBarCode.product_barcode=o[s].product_barcode,e.next=17,y.stringifyUrl({url:T,query:H.GetPriceByProductBarCode});case 17:return r=e.sent,e.next=20,fetch(r,{method:"GET"});case 20:return l=e.sent,e.next=23,l.json();case 23:if(u=e.sent,console.log("a",u),u.product_barcode!==a.product_barcode){e.next=27;break}return e.abrupt("continue",28);case 27:i.push(u);case 28:s++,e.next=12;break;case 31:console.log(i),0!==i.length&&O(i);case 33:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header"},r.a.createElement(N.a,{id:"outlined-basic",variant:"outlined",onInput:function(e){I="",I=e.target.value},placeholder:d,onBlur:function(){console.log("is ",I),""!==I&&P()({title:"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05e9\u05dd \u05d4\u05e8\u05e9\u05d9\u05de\u05d4",buttons:["\u05d4\u05ea\u05d7\u05e8\u05d8\u05ea\u05d9","\u05e9\u05e0\u05d4 \u05d0\u05ea \u05d4\u05e9\u05dd"],dangerMode:!0}).then((function(e){if(e){console.log(I);var t={ListID:o.ListID,ListName:I};fetch(A,{method:"PUT",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){b(I),o.ListName=d,console.log("The name of ",e," id was changed"),P()("\u05e9\u05dd \u05d4\u05e7\u05d1\u05d5\u05e6\u05d4 \u05e9\u05d5\u05e0\u05d4")}),(function(e){console.log(e)}))}else g.current.value=""}))},inputRef:g})),r.a.createElement("div",{className:"Maincontent"},r.a.createElement("h3",null,o.CityName," "),r.a.createElement("input",{type:"text",placeholder:"\u05d4\u05d6\u05df \u05e2\u05d9\u05e8 \u05d7\u05d3\u05e9\u05d4",onChange:function(e){L=e.target.value}})," \xa0",r.a.createElement("button",{onClick:M},"\u05d4\u05d2\u05d3\u05e8 \u05e2\u05d9\u05e8 \u05dc\u05d7\u05d9\u05e4\u05d5\u05e9 "),r.a.createElement("h3",null,o.LimitPrice),r.a.createElement("input",{type:"number",placeholder:"\u05d4\u05d6\u05df \u05de\u05d2\u05d1\u05dc\u05d4 \u05d7\u05d3\u05e9\u05d4",onChange:function(e){U=e.target.value}})," \xa0",r.a.createElement("button",{onClick:J},"\u05d4\u05d2\u05d3\u05e8 \u05de\u05d2\u05d1\u05dc\u05d4 ")," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"\u05d1\u05d7\u05e8 \u05de\u05d5\u05e6\u05e8 ",onChange:function(e){D=e.target.value}})," \xa0",r.a.createElement("button",{onClick:R},"\u05d7\u05e4\u05e9 \u05de\u05d5\u05e6\u05e8"),r.a.createElement("br",null),r.a.createElement("h2",null,"\u05de\u05d5\u05e6\u05e8\u05d9\u05dd"),v.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e.product_name," ",r.a.createElement("b",null," \u05d1\u05de\u05d7\u05d9\u05e8")," ",e.estimatedProductPrice," \xa0",r.a.createElement("button",{onClick:function(){return function(e){console.log(o.ListEstimatedPrice,v[e].estimatedProductPrice);var t=o.ListEstimatedPrice+v[e].estimatedProductPrice;console.log("temp",t),console.log(o.ListEstimatedPrice,v[e].estimatedProductPrice),t>o.LimitPrice?P()({text:"\u05e9\u05d9\u05dd \u05dc\u05d1! \u05d7\u05e8\u05d2\u05ea \u05de\u05d4\u05de\u05d2\u05d1\u05dc\u05d4",buttons:["\u05d1\u05d8\u05dc","\u05d4\u05de\u05e9\u05da \u05d1\u05db\u05dc \u05d6\u05d0\u05ea"],dangerMode:!0}).then((function(t){t&&q(e)})):t>.7*o.LimitPrice?(alert("\u05e9\u05d9\u05dd \u05dc\u05d1! \u05e2\u05d1\u05e8\u05ea 70% \u05de\u05d4\u05de\u05d2\u05d1\u05dc\u05d4"),q(e)):q(e)}(t)}},"\u05d4\u05d5\u05e1\u05e3 \u05dc\u05e8\u05e9\u05d9\u05de\u05d4")))})),r.a.createElement("div",null,r.a.createElement("h2",null,"\u05d4\u05e8\u05e9\u05d9\u05de\u05d4 \u05e9\u05dc\u05d9 "),C.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e.product_name," ",r.a.createElement("b",null," \u05d1\u05de\u05d7\u05d9\u05e8")," ",e.estimatedProductPrice," \xa0",r.a.createElement("button",{onClick:function(){return function(e,t,n){console.log(C[e]),P()({title:"\u05de\u05d7\u05d9\u05e7\u05ea \u05e4\u05e8\u05d9\u05d8",text:"\u05db\u05dc \u05e4\u05e8\u05d9\u05d8\u05d9 \u05d4\u05e8\u05e9\u05d9\u05de\u05d4 \u05d9\u05de\u05d7\u05e7\u05d5 \u05d2\u05dd \u05d4\u05dd ",buttons:["\u05d1\u05d8\u05dc","\u05de\u05d7\u05e7"],dangerMode:!0}).then((function(a){a&&fetch(F+t+"/"+n,{method:"DELETE",headers:new Headers({"Content-type":"application/json; charset=UTF-8"})}).then((function(e){return e.json()})).then((function(t){console.log("The ",t," was successfully deleted!"),o.ListEstimatedPrice-=C[e].estimatedProductPrice.toFixed(2),C.splice(e,1),G(Object(p.a)(C)),P()("\u05d4\u05de\u05d5\u05e6\u05e8 \u05e0\u05de\u05d7\u05e7 ")}),(function(e){console.log(e)}))}))}(t,e.product_barcode,e.ListID)}},"\u05de\u05d7\u05e7 \u05de\u05d4\u05e8\u05e9\u05d9\u05de\u05d4")),C.length-1===t&&"\u05de\u05d7\u05d9\u05e8 \u05de\u05e9\u05d5\u05e2\u05e8 "+Number(o.ListEstimatedPrice).toFixed(2))}))),r.a.createElement("br",null),r.a.createElement("button",{onClick:W},"\u05d7\u05e4\u05e9 \u05e1\u05d5\u05e4\u05e8\u05d9\u05dd \u05d1\u05e1\u05d1\u05d9\u05d1\u05ea\u05da")," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,r.a.createElement("u",null,"\u05e8\u05e9\u05d9\u05de\u05ea \u05d4\u05e1\u05d5\u05e4\u05e8\u05d9\u05dd")),S.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,r.a.createElement("b",null,e.Store.store_name)," \u05d1\u05e8\u05d7\u05d5\u05d1 ",e.Store.store_address," ",r.a.createElement("b",null,":\u05e2\u05dc\u05d5\u05ea \u05e1\u05dc \u05d4\u05e7\u05e0\u05d9\u05d5\u05ea \u05d4\u05d5\u05d0 ")," ",e.TotalPrice," ",r.a.createElement("br",null),r.a.createElement("u",null,r.a.createElement("small",null,"\u05d4\u05de\u05d5\u05e6\u05e8\u05d9\u05dd \u05e9\u05d7\u05e1\u05e8\u05d9\u05dd \u05d4\u05dd")),e.OutOfStock.map((function(e,n){return r.a.createElement("p",{key:n},r.a.createElement("span",null,e.product_name,","),r.a.createElement("button",{onClick:function(){return V(t,n)}},"\u05d7\u05e4\u05e9 \u05de\u05d5\u05e6\u05e8 \u05ea\u05d7\u05dc\u05d9\u05e4\u05d9"))}))))}))),r.a.createElement("div",{className:"footer"}))}));var ae=Object(i.h)((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(R,null,r.a.createElement(X,null,r.a.createElement(l,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:W})," ",r.a.createElement(i.a,{path:"/HomePage/:userIDfromRN",component:W}),r.a.createElement(i.a,{path:"/TempPage/:id",component:te}),r.a.createElement(i.a,{path:"/AGroups",component:ee})," ",r.a.createElement(i.a,{path:"/AList",component:ne})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(s.a,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,n){},90:function(e,t,n){e.exports=n(120)},95:function(e,t,n){},96:function(e,t,n){}},[[90,1,2]]]);
//# sourceMappingURL=main.088127de.chunk.js.map