(this["webpackJsonpweb-cheap-list"]=this["webpackJsonpweb-cheap-list"]||[]).push([[0],{157:function(e,t,n){},242:function(e,t,n){e.exports=n(470)},247:function(e,t,n){},248:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},274:function(e,t,n){},470:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),i=(n(247),n(54)),l=(n(248),n(31)),s=Object(i.h)((function(){var e=Object(i.g)().id;return r.a.createElement("nav",null,r.a.createElement(l.b,{to:"/HomePage/".concat(e)},"\u05d4\u05e7\u05d1\u05d5\u05e6\u05d5\u05ea \u05e9\u05dc\u05d9")," |",r.a.createElement(l.b,{to:"/SuperMarketList"},"SuperMarketList \u05d6\u05de\u05e0\u05d9")," |",r.a.createElement("br",null))})),u=n(72),d=n(37),p=n(11),m=n.n(p),h=n(22),f=n(9),b=function(e){return r.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24"},e))},g=function(){return r.a.createElement(b,null,r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"}))},E=n(523),y=n(525),j=n(534),v=n(524),O=n(36),x=(n(88),n(27)),P=n.n(x),C=(n(157),n(256),function(e){var t=e.description,n=e.icon,a=e.name;return r.a.createElement("div",{className:"listItemComponent"},r.a.createElement("div",{className:"label"},n,r.a.createElement("span",{className:"name"},a)),t&&r.a.createElement("div",{className:"desciption"},t))}),k=(n(257),function(e){var t=e.icon,n=e.color,a=(e.side,e.label);return r.a.createElement("div",{style:{background:n}},r.a.createElement("div",{className:"content"},t,a&&r.a.createElement("span",null,a)))}),w=n(520),G=n(526),N=n(530),S=n(519),_=n(517),B=n(532),T=n(512),L=n(218),D=n.n(L);function I(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),l=Object(f.a)(i,2),s=l[0],u=l[1],d=function(){o(!1)};return r.a.createElement("div",null,r.a.createElement(T.a,{color:"primary","aria-label":"add"},r.a.createElement(D.a,{onClick:function(){o(!0)}})),r.a.createElement(N.a,{open:c,onClose:d,"aria-labelledby":"form-dialog-title"},r.a.createElement(B.a,{id:"form-dialog-title"},e.headLine),r.a.createElement(_.a,null,r.a.createElement(G.a,{onChange:function(e){return u(e.target.value)},autoFocus:!0,margin:"dense",id:"name",label:e.label,type:"text",fullWidth:!0})),r.a.createElement(S.a,null,r.a.createElement(w.a,{onClick:d,color:"primary"},"\u05d1\u05d8\u05dc"),r.a.createElement(w.a,{onClick:function(){o(!1),console.log("dialog",s),e.getData(s)},color:"primary"},"\u05d0\u05d9\u05e9\u05d5\u05e8"))))}var U=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppUsers/",e.next=4,fetch("".concat(n,"AuthenticateContact/").concat(t),{method:"GET",headers:new Headers({"Content-Type":"application/json; charset=UTF-8"})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(0!==(r=e.sent).UserID){e.next=13;break}return c={UserName:t,PhoneNumber:t},console.log("into if"),e.next=13,fetch("".concat(n,"SystemPostUser"),{method:"POST",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){console.log("The ",e," was successfully added!"),r=e}),(function(e){console.log(e)}));case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=n(533),A=n(529);function H(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),c=n[0],o=n[1],i=[],l=Object(a.useState)([].concat(i)),s=Object(f.a)(l,2),u=s[0],p=s[1];Object(a.useEffect)((function(){!function(){var t=Object(h.a)(m.a.mark((function t(){var n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppUsers/GetUserContacts/".concat(e.userID),{method:"GET",headers:new Headers({"Content-Type":"application/json; charset=UTF-8"})});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,console.log("data",a),o(a);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e.userID]);return r.a.createElement("span",null,r.a.createElement("h5",null,"\u05d1\u05d7\u05e8 \u05d0\u05e0\u05e9\u05d9 \u05e7\u05e9\u05e8 \u05dc\u05e7\u05d1\u05d5\u05e6\u05ea ",e.groupName),r.a.createElement(A.a,{multiple:!0,id:"fixed-tags-demo",value:u,onChange:function(e,t){p([].concat(i,Object(d.a)(t.filter((function(e){return-1===i.indexOf(e)})))))},options:c,getOptionLabel:function(e){return e.Name},renderTags:function(e,t){return e.map((function(e,n){return r.a.createElement(F.a,Object.assign({label:e.Name},t({index:n}),{disabled:-1!==i.indexOf(e)}))}))},style:{width:350},renderInput:function(e){return r.a.createElement(G.a,Object.assign({},e,{label:"Contacts",variant:"outlined",placeholder:"\u05d7\u05e4\u05e9"}))}}),r.a.createElement("button",{onClick:function(){console.log("value",u),0!==u.length?e.close(u):alert("\u05dc\u05d0 \u05d1\u05d7\u05e8\u05ea \u05de\u05e9\u05ea\u05ea\u05e4\u05d9\u05dd \u05e2\u05d3\u05d9\u05d9\u05df")}},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05e0\u05e9\u05d9 \u05e7\u05e9\u05e8 "))}var M=function(e,t,n){console.log("token",e,"Admin",t,"Group",n);var a={to:e,title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05dc\u05e7\u05d1\u05d5\u05e6\u05d4",body:"".concat(t," \u05d4\u05d5\u05e1\u05d9\u05e3 \u05d0\u05d5\u05ea\u05da \u05dc").concat(n),badge:1,data:{name:"yogev"}};fetch("http://cors-anywhere.herokuapp.com/https://exp.host/--/api/v2/push/send",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){null!=e?console.log("returned from server\njson.data= ".concat(JSON.stringify(e.data))):alert("err json")}))},R=Object(a.createContext)(),J=function(e){var t=Object(a.useState)(),n=Object(f.a)(t,2),c=n[0],o=n[1];return r.a.createElement(R.Provider,{value:{groupDetails:c,SetGroupDetails:o}},e.children)},q=Object(a.createContext)(),z=function(e){return r.a.createElement(q.Provider,{value:{isLocal:!1}},e.children)},W=Object(E.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column"},"& > *":{marginBottom:e.spacing(2)},"& .MuiBadge-root":{marginRight:e.spacing(4)}}}));var V=Object(i.h)((function(){var e=Object(a.useContext)(R).SetGroupDetails,t=Object(a.useContext)(q).isLocal,n=Object(i.g)().userIDfromRN,c=W(),o=Object(a.useState)([]),l=Object(f.a)(o,2),s=l[0],p=l[1],b=Object(a.useState)(),E=Object(f.a)(b,2)[1],x=Object(a.useState)(),w=Object(f.a)(x,2),G=w[0],N=w[1],S=Object(i.f)(),_="http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppGroups/",B=Object(a.useState)(!1),T=Object(f.a)(B,2),L=T[0],D=T[1],F=Object(a.useState)(),A=Object(f.a)(F,2),J=A[0],z=A[1];t&&(_="http://localhost:56794/api/AppGroups/",n=12),Object(a.useEffect)((function(){!function(){var e=Object(h.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_+n,{method:"GET",headers:new Headers({"Content-Type":"application/json; charset=UTF-8"})});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log("data",a),p(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n,_]);var V=function(){var e=Object(h.a)(m.a.mark((function e(t){var a,r,c,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r=0;case 2:if(!(r<t.length)){e.next=11;break}return e.next=5,U(t[r].PhoneNumber);case 5:return c=e.sent,e.next=8,a.push(c);case 8:r++,e.next=2;break;case 11:for(console.log("participiantsArr",a),o={GroupName:J,UserID:n,Participiants:a},i=0;i<a.length;i++)null!==a[i].ExpoToken&&M(a[i].ExpoToken,s[0].UserName,J);fetch(_,{method:"POST",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){console.log("The ",e," was successfully added!"),p([].concat(Object(d.a)(s),[Object(u.a)({},e)])),console.log(e)}),(function(e){console.log(e)})),console.log(s);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(e,t){return{content:r.a.createElement("span",{style:{background:"red",width:"100%",direction:"ltr"}},r.a.createElement(k,{icon:r.a.createElement(g,null),label:"Delete",side:"right"})),action:function(){return E(function(e,t){G>=70&&P()({title:"\u05de\u05d7\u05d9\u05e7\u05ea \u05e7\u05d1\u05d5\u05e6\u05d4",text:"!\u05db\u05dc \u05e8\u05e9\u05d9\u05de\u05d5\u05ea \u05d4\u05e7\u05d1\u05d5\u05e6\u05d4 \u05d9\u05de\u05d7\u05e7\u05d5 \u05d2\u05dd \u05d4\u05dd",buttons:["\u05d1\u05d8\u05dc","\u05de\u05d7\u05e7"],dangerMode:!0}).then((function(n){n&&fetch(_+e,{method:"DELETE",headers:new Headers({"Content-type":"application/json; charset=UTF-8"})}).then((function(e){return e.json()})).then((function(e){s.splice(t,1),p(Object(d.a)(s)),console.log("The ",e," was successfully deleted!"),P()("\u05d4\u05e7\u05d1\u05d5\u05e6\u05d4 \u05e0\u05de\u05d7\u05e7\u05d4 ")}),(function(e){console.log(e)}))}))}(e,t))}}},K=function(e){for(var t=e.Participiants[0].UserName,n=1;n<e.Participiants.length;n++)t+=", "+e.Participiants[n].UserName;return t};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"\u05d4\u05e7\u05d1\u05d5\u05e6\u05d5\u05ea \u05e9\u05dc\u05d9")),r.a.createElement("div",{className:"Maincontent"},s.map((function(t,n){return r.a.createElement("span",{key:n,onClick:function(){return function(t){e(s[t]),S.push("/AGroups")}(n)}},r.a.createElement(O.SwipeableList,{className:c.root,threshold:.25},r.a.createElement(O.SwipeableListItem,{swipeRight:$(t.GroupID,n),onSwipeProgress:N},r.a.createElement(v.a,{style:{marginRight:"5px"}},r.a.createElement(y.a,{badgeContent:10,color:"secondary"},r.a.createElement(j.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"}))),r.a.createElement(C,{name:t.GroupName,description:K(t)}))))})),r.a.createElement("br",null),L&&r.a.createElement(H,{userID:n,groupName:J,close:function(e){D(!1),V(e)},style:{textAlign:"center"}})),r.a.createElement("div",{className:"footer"},r.a.createElement(I,{getData:function(e){console.log("groupName",e),z(e),D(!0)},headLine:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05e7\u05d1\u05d5\u05e6\u05d4",label:"\u05e9\u05dd \u05d4\u05e7\u05d1\u05d5\u05e6\u05d4"})))})),$=n(5),K=n(522),Q=n(221),X=n.n(Q),Y=Object(a.createContext)(),Z=function(e){var t=Object(a.useState)({}),n=Object(f.a)(t,2),c=n[0],o=n[1];return r.a.createElement(Y.Provider,{value:{listObj:c,SetListObj:o}},e.children)},ee=Object(E.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column"},"& > *":{marginBottom:e.spacing(2),margin:e.spacing(1),width:"25ch"},"& .MuiBadge-root":{marginRight:e.spacing(4)}}})),te=Object($.a)((function(e){return{badge:{right:-3,top:13,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(y.a);var ne=Object(i.h)((function(){var e=Object(a.useContext)(R).groupDetails,t=Object(a.useContext)(Y).SetListObj,n=Object(a.useContext)(q).isLocal,c=ee(),o=Object(i.f)(),l=Object(a.useState)(e.GroupName),s=Object(f.a)(l,2),p=s[0],b=s[1],E=Object(a.useState)([]),y=Object(f.a)(E,2),j=y[0],v=y[1],x=Object(a.useState)(),w=Object(f.a)(x,2)[1],N=Object(a.useState)(),S=Object(f.a)(N,2),_=S[0],B=S[1],T=Object(a.useRef)(null),L="",D="http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppGroups/",U="http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppList/";n&&(D="http://localhost:56794/api/AppGroups/",U="http://localhost:56794/api/AppList/"),Object(a.useEffect)((function(){!function(){var t=Object(h.a)(m.a.mark((function t(){var n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(U+e.GroupID,{method:"GET",headers:new Headers({"Content-Type":"application/json; charset=UTF-8"})});case 3:return n=t.sent,t.next=6,n.json();case 6:a=t.sent,v(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()()}),[e,U]);var F=function(e,t){return{content:r.a.createElement("span",{style:{background:"red",width:"100%",direction:"ltr"}},r.a.createElement(k,{icon:r.a.createElement(g,null),side:"right"})),action:function(){return w(function(e,t){_>=70&&P()({title:"\u05de\u05d7\u05d9\u05e7\u05ea \u05e8\u05e9\u05d9\u05de\u05d4",text:"\u05db\u05dc \u05e4\u05e8\u05d9\u05d8\u05d9 \u05d4\u05e8\u05e9\u05d9\u05de\u05d4 \u05d9\u05de\u05d7\u05e7\u05d5 \u05d2\u05dd \u05d4\u05dd ",buttons:["\u05d1\u05d8\u05dc","\u05de\u05d7\u05e7"],dangerMode:!0}).then((function(n){n&&fetch(U+e,{method:"DELETE",headers:new Headers({"Content-type":"application/json; charset=UTF-8"})}).then((function(e){return e.json()})).then((function(e){console.log("The ",e," was successfully deleted!"),j.splice(t,1),v(Object(d.a)(j)),P()("\u05d4\u05e8\u05e9\u05d9\u05de\u05d4 \u05e0\u05de\u05d7\u05e7\u05d4 ")}),(function(e){console.log(e)}))}))}(e,t))}}};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header"},r.a.createElement(G.a,{id:"outlined-basic",variant:"outlined",onInput:function(e){L="",L=e.target.value},placeholder:p,onBlur:function(){console.log(L),""!==L&&P()({title:"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05e9\u05dd \u05e7\u05d1\u05d5\u05e6\u05d4",buttons:["\u05d4\u05ea\u05d7\u05e8\u05d8\u05ea\u05d9","\u05e9\u05e0\u05d4 \u05d0\u05ea \u05d4\u05e9\u05dd"],dangerMode:!0}).then((function(t){if(t){console.log(L);var n={GroupID:e.GroupID,GroupName:L};fetch(D,{method:"PUT",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){b(L),console.log("The name of ",e," id was changed"),P()("\u05e9\u05dd \u05d4\u05e7\u05d1\u05d5\u05e6\u05d4 \u05e9\u05d5\u05e0\u05d4")}),(function(e){console.log(e)}))}else T.current.value=""}))},inputRef:T})),r.a.createElement("div",{className:"Maincontent"},j.map((function(e,n){return r.a.createElement("span",{key:n,onClick:function(){return function(e){t(j[e]),o.push("/AList")}(n)}},r.a.createElement(O.SwipeableList,{key:n,className:c.root,threshold:.25},r.a.createElement(O.SwipeableListItem,{swipeRight:F(e.ListID,n),onSwipeProgress:B},r.a.createElement(K.a,{"aria-label":"cart"},r.a.createElement(te,{badgeContent:4,color:"secondary"},r.a.createElement(X.a,null))),r.a.createElement(C,{name:e.ListName,description:"\u05e1\u05da \u05e2\u05dc\u05d5\u05ea \u05de\u05e9\u05d5\u05e2\u05e8\u05ea: ".concat(0===e.ListEstimatedPrice?0:Number(e.ListEstimatedPrice).toFixed(2))}))))}))),r.a.createElement("div",{className:"footer"},r.a.createElement(I,{getData:function(t){var n={ListName:t,GroupID:e.GroupID,UserID:e.UserID};fetch(U,{method:"POST",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){console.log("The ",e," was successfully added!"),console.log("resultPostList",e),v([].concat(Object(d.a)(j),[Object(u.a)({},e)])),console.log(j)}),(function(e){console.log(e)}))},headLine:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05e8\u05e9\u05d9\u05de\u05d4",label:"\u05e9\u05dd \u05d4\u05e8\u05e9\u05d9\u05de\u05d4"})))})),ae=Object(i.h)((function(){var e=Object(i.g)(),t=e.id,n=e.name;return r.a.createElement("div",null,r.a.createElement("h1",null,"temp page"),r.a.createElement("h1",null,"look at this id"),r.a.createElement("h2",null,t,", ",n),r.a.createElement("button",{onClick:function(){alert("lets go");fetch("http://localhost:56794/api/AppUsers/updateUserContacts",{method:"POST",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify({UserID:1,Contacts:[{Name:"\u05d2'\u05dc\u05d0\u05dc \u05d4.\u05e2\u05d5\"\u05d3 gam engli",PhoneNumber:"972526485161123"},{Name:"\u05d4\u05dc\u05d5\u05d5\u05d0\u05d9 \u05d1\u05e8\u05d9\u05d1\u05d5\u05e2",PhoneNumber:"+972-50555-4422"}]})}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){console.log(e)}))}},"test the localStorage"))})),re=n(535),ce=n(536),oe=n(537),ie=n(222),le=n.n(ie),se=n(223),ue=n.n(se),de=n(224),pe=n.n(de),me=n(225),he=n.n(me),fe=(n(259),n(260),Object(a.createContext)()),be=function(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),c=n[0],o=n[1];return r.a.createElement(fe.Provider,{value:{productCart:c,SetProductCart:o}},e.children)};var ge=Object(i.h)((function(){var e=Object(a.useContext)(Y).listObj,t=Object(a.useContext)(q).isLocal,c=Object(a.useContext)(fe),o=c.productCart,i=c.SetProductCart,l=Object(a.useState)(!1),s=Object(f.a)(l,2),p=s[0],b=s[1],g=Object(a.useState)(e),E=Object(f.a)(g,2),y=E[0],j=E[1],v=Object(a.useState)(y.ListName),O=Object(f.a)(v,2),x=O[0],C=O[1],k=Object(a.useRef)(null),w=n(261),N=Object(a.useState)([]),S=Object(f.a)(N,2),_=S[0],B=S[1],T=Object(a.useState)([]),L=Object(f.a)(T,2),D=L[0],I=L[1],U="https://api.superget.co.il?api_key=847da8607b5187d8ad1ea24fde8ee8016b19a6db&",F="",A="",H=0,M="http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppProduct/",R="http://proj.ruppin.ac.il/bgroup5/FinalProject/backEnd/api/AppList/";t&&(M="http://localhost:56794/api/AppProduct/",R="http://localhost:56794/api/AppList/"),Object(a.useEffect)((function(){Object(h.a)(m.a.mark((function t(){var n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(M+e.ListID,{method:"GET",headers:new Headers({"Content-Type":"application/json; charset=UTF-8"})});case 3:return n=t.sent,t.next=6,n.json();case 6:a=t.sent,i(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()}),[e,M,i]);var J=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(R+"limit/"+H+"/"+y.ListID,{method:"PUT"});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,y.LimitPrice=n.LimitPrice,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n,a,r,c,o,i,l,s,u,p,h,f,b,g,E,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===y.CityName||""===F){e.next=77;break}return e.prev=1,Ee.GetCityByName.city_name=y.CityName,t=w.stringifyUrl({url:U,query:Ee.GetCityByName}),e.next=6,fetch(t,{method:"GET"});case 6:return n=e.sent,e.next=9,n.json();case 9:return a=e.sent,console.log("resultCity",a),Ee.GetProductsByName.product_name=F,t=w.stringifyUrl({url:U,query:Ee.GetProductsByName}),e.next=15,fetch(t,{method:"GET"});case 15:return r=e.sent,e.next=18,r.json();case 18:return c=e.sent,console.log("product",c),Ee.GetStoresByCityID.city_id=a[0].city_id,e.next=23,w.stringifyUrl({url:U,query:Ee.GetStoresByCityID});case 23:return t=e.sent,e.next=26,fetch(t,{method:"GET"});case 26:return o=e.sent,e.next=29,o.json();case 29:i=e.sent,l=[],s=0;case 32:if(!(s<c.length)){e.next=69;break}u=0,p=0,h=0;case 36:if(!(h<i.length)){e.next=56;break}return Ee.GetPriceByProductBarCode.store_id=i[h].store_id,Ee.GetPriceByProductBarCode.product_barcode=c[s].product_barcode,e.next=41,w.stringifyUrl({url:U,query:Ee.GetPriceByProductBarCode});case 41:return t=e.sent,e.next=44,fetch(t,{method:"GET"});case 44:return f=e.sent,e.next=47,f.json();case 47:if("NO_DATA"!==(b=e.sent).error_type){e.next=51;break}return console.log("err"),e.abrupt("continue",53);case 51:u+=JSON.parse(b[0].store_product_price),p++;case 53:h++,e.next=36;break;case 56:return u/=p,console.log("my price",u),e.next=60,fetch("http://localhost:56794/api/Scraper/"+c[s].product_name,{method:"GET"});case 60:return g=e.sent,e.next=63,g.json();case 63:E=e.sent,j={product_barcode:c[s].product_barcode,product_name:c[s].product_name,product_description:c[s].product_description,product_image:E,manufacturer_name:c[s].manufacturer_name,estimatedProductPrice:Number(u.toFixed(2))},l.push(j);case 66:s++,e.next=32;break;case 69:B.apply(void 0,Object(d.a)(_).concat([l])),e.next=75;break;case 72:e.prev=72,e.t0=e.catch(1),console.log(e.t0);case 75:e.next=78;break;case 77:alert("\u05de\u05dc\u05d0 \u05d0\u05ea \u05d4\u05e9\u05d3\u05d5\u05ea \u05ea\u05d7\u05d9\u05dc\u05d4");case 78:case"end":return e.stop()}}),e,null,[[1,72]])})));return function(){return e.apply(this,arguments)}}(),W=function(e){console.log(y.ListEstimatedPrice,_[e].estimatedProductPrice);var t=y.ListEstimatedPrice+_[e].estimatedProductPrice;console.log("temp",t),console.log(y.ListEstimatedPrice,_[e].estimatedProductPrice),t>y.LimitPrice?P()({text:"\u05e9\u05d9\u05dd \u05dc\u05d1! \u05d7\u05e8\u05d2\u05ea \u05de\u05d4\u05de\u05d2\u05d1\u05dc\u05d4",buttons:["\u05d1\u05d8\u05dc","\u05d4\u05de\u05e9\u05da \u05d1\u05db\u05dc \u05d6\u05d0\u05ea"],dangerMode:!0}).then((function(t){t&&V(e)})):t>.7*y.LimitPrice?(alert("\u05e9\u05d9\u05dd \u05dc\u05d1! \u05e2\u05d1\u05e8\u05ea 70% \u05de\u05d4\u05de\u05d2\u05d1\u05dc\u05d4"),V(e)):V(e)},V=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.a)({},_[t],{ListID:y.ListID,GroupID:y.GroupID}),e.next=3,fetch(M,{method:"POST",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify(n)});case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,console.log("result",r),y.ListEstimatedPrice+=r.estimatedProductPrice,j(y),B([]),i([].concat(Object(d.a)(o),[r])),alert("\u05d4\u05de\u05d5\u05e6\u05e8 \u05d4\u05ea\u05d5\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n,a,r,c,i,l,s,u,d,p,h,f;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ee.GetCityByName.city_name=y.CityName,console.log(y.CityName),t=w.stringifyUrl({url:U,query:Ee.GetCityByName}),console.log("0"),e.next=7,fetch(t,{method:"GET"});case 7:return n=e.sent,e.next=10,n.json();case 10:return a=e.sent,console.log("1"),Ee.GetStoresByCityID.city_id=a[0].city_id,e.next=15,w.stringifyUrl({url:U,query:Ee.GetStoresByCityID});case 15:return t=e.sent,e.next=18,fetch(t,{method:"GET"});case 18:return r=e.sent,e.next=21,r.json();case 21:c=e.sent,console.log("2"),i=[],l=0;case 25:if(!(l<c.length)){e.next=53;break}s=0,u=[],d=0;case 29:if(!(d<o.length)){e.next=48;break}return Ee.GetPriceByProductBarCode.product_barcode=o[d].product_barcode,Ee.GetPriceByProductBarCode.store_id=c[l].store_id,t=w.stringifyUrl({url:"https://cors-anywhere.herokuapp.com/"+U,query:Ee.GetPriceByProductBarCode}),e.next=35,fetch(t,{method:"GET"});case 35:return p=e.sent,e.next=38,p.json();case 38:if(h=e.sent,console.log("3"),"NO_DATA"!==h.error_type){e.next=44;break}return alert("\u05d4\u05de\u05d5\u05e6\u05e8 "+o[d].product_name+" \u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05d1\u05d7\u05e0\u05d5\u05ea \u05d6\u05d5 "),u.push(o[d]),e.abrupt("continue",45);case 44:s+=JSON.parse(h[0].store_product_price);case 45:d++,e.next=29;break;case 48:f={OutOfStock:u,Store:c[l],TotalPrice:Number(s.toFixed(2))},i.push(f);case 50:l++,e.next=25;break;case 53:I(i),console.log("store",D),e.next=60;break;case 57:e.prev=57,e.t0=e.catch(0),console.log(e.t0);case 60:case"end":return e.stop()}}),e,null,[[0,57]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(h.a)(m.a.mark((function e(t,n){var a,r,c,o,i,l,s,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(D[t].OutOfStock[n]),a=D[t].OutOfStock[n],Ee.GetProductsByName.product_name=a.product_description,r=w.stringifyUrl({url:U,query:Ee.GetProductsByName}),e.next=6,fetch(r,{method:"GET"});case 6:return c=e.sent,e.next=9,c.json();case 9:o=e.sent,i=[],l=0;case 12:if(!(l<o.length)){e.next=31;break}return Ee.GetPriceByProductBarCode.store_id=D[t].store_id,Ee.GetPriceByProductBarCode.product_barcode=o[l].product_barcode,e.next=17,w.stringifyUrl({url:U,query:Ee.GetPriceByProductBarCode});case 17:return r=e.sent,e.next=20,fetch(r,{method:"GET"});case 20:return s=e.sent,e.next=23,s.json();case 23:if(u=e.sent,console.log("a",u),u.product_barcode!==a.product_barcode){e.next=27;break}return e.abrupt("continue",28);case 27:i.push(u);case 28:l++,e.next=12;break;case 31:console.log(i),0!==i.length&&B(i);case 33:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header"},r.a.createElement(G.a,{id:"outlined-basic",variant:"outlined",onInput:function(e){A="",A=e.target.value},placeholder:x,onBlur:function(){console.log("is ",A),""!==A&&P()({title:"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05e9\u05dd \u05d4\u05e8\u05e9\u05d9\u05de\u05d4",buttons:["\u05d4\u05ea\u05d7\u05e8\u05d8\u05ea\u05d9","\u05e9\u05e0\u05d4 \u05d0\u05ea \u05d4\u05e9\u05dd"],dangerMode:!0}).then((function(e){if(e){console.log(A);var t={ListID:y.ListID,ListName:A};fetch(R,{method:"PUT",headers:new Headers({"Content-type":"application/json; charset=UTF-8"}),body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){C(A),y.ListName=x,console.log("The name of ",e," id was changed"),P()("\u05e9\u05dd \u05d4\u05e7\u05d1\u05d5\u05e6\u05d4 \u05e9\u05d5\u05e0\u05d4")}),(function(e){console.log(e)}))}else k.current.value=""}))},inputRef:k})),r.a.createElement("div",{className:"Maincontent"},r.a.createElement("h3",null,y.CityName," "),r.a.createElement("h3",null,y.LimitPrice),r.a.createElement("input",{type:"number",placeholder:"\u05d4\u05d6\u05df \u05de\u05d2\u05d1\u05dc\u05d4 \u05d7\u05d3\u05e9\u05d4",onChange:function(e){H=e.target.value}})," \xa0",r.a.createElement("button",{onClick:J},"\u05d4\u05d2\u05d3\u05e8 \u05de\u05d2\u05d1\u05dc\u05d4 ")," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"\u05d1\u05d7\u05e8 \u05de\u05d5\u05e6\u05e8 ",onChange:function(e){F=e.target.value}})," \xa0",r.a.createElement("button",{onClick:z},"\u05d7\u05e4\u05e9 \u05de\u05d5\u05e6\u05e8"),r.a.createElement("br",null),r.a.createElement("h2",null,"\u05de\u05d5\u05e6\u05e8\u05d9\u05dd"),_.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e.product_name," ",r.a.createElement("b",null," \u05d1\u05de\u05d7\u05d9\u05e8")," ",e.estimatedProductPrice," \xa0",r.a.createElement("img",{src:e.product_image,alt:""}),r.a.createElement("button",{onClick:W(t)},"\u05d4\u05d5\u05e1\u05e3 \u05dc\u05e8\u05e9\u05d9\u05de\u05d4")))})),r.a.createElement("div",{id:"compareList"},o.map((function(e,t){return r.a.createElement("div",{key:t,className:"product"},r.a.createElement("img",{src:e.product_image,alt:" "}),r.a.createElement("br",null),e.product_description," ",r.a.createElement("br",null)," \u05d1\u05de\u05d7\u05d9\u05e8 ",e.estimatedProductPrice,r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return function(e,t,n){console.log(o[e]),P()({title:"\u05de\u05d7\u05d9\u05e7\u05ea \u05e4\u05e8\u05d9\u05d8",text:"\u05db\u05dc \u05e4\u05e8\u05d9\u05d8\u05d9 \u05d4\u05e8\u05e9\u05d9\u05de\u05d4 \u05d9\u05de\u05d7\u05e7\u05d5 \u05d2\u05dd \u05d4\u05dd ",buttons:["\u05d1\u05d8\u05dc","\u05de\u05d7\u05e7"],dangerMode:!0}).then((function(a){a&&fetch(M+t+"/"+n,{method:"DELETE",headers:new Headers({"Content-type":"application/json; charset=UTF-8"})}).then((function(e){return e.json()})).then((function(t){console.log("The ",t," was successfully deleted!"),y.ListEstimatedPrice-=o[e].estimatedProductPrice.toFixed(2),o.splice(e,1),i(Object(d.a)(o)),P()("\u05d4\u05de\u05d5\u05e6\u05e8 \u05e0\u05de\u05d7\u05e7 ")}),(function(e){console.log(e)}))}))}(t,e.product_barcode,e.ListID)}},"\u05de\u05d7\u05e7 \u05de\u05d4\u05e8\u05e9\u05d9\u05de\u05d4"))}))),r.a.createElement("br",null),r.a.createElement("br",null),o.length-1!==0&&"\u05de\u05d7\u05d9\u05e8 \u05de\u05e9\u05d5\u05e2\u05e8 "+Number(y.ListEstimatedPrice).toFixed(2),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("button",{onClick:$},"\u05d7\u05e4\u05e9 \u05e1\u05d5\u05e4\u05e8\u05d9\u05dd \u05d1\u05e1\u05d1\u05d9\u05d1\u05ea\u05da")," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,r.a.createElement("u",null,"\u05e8\u05e9\u05d9\u05de\u05ea \u05d4\u05e1\u05d5\u05e4\u05e8\u05d9\u05dd")),D.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,r.a.createElement("b",null,e.Store.store_name)," \u05d1\u05e8\u05d7\u05d5\u05d1 ",e.Store.store_address," ",r.a.createElement("b",null,":\u05e2\u05dc\u05d5\u05ea \u05e1\u05dc \u05d4\u05e7\u05e0\u05d9\u05d5\u05ea \u05d4\u05d5\u05d0 ")," ",e.TotalPrice," ",r.a.createElement("br",null),r.a.createElement("u",null,r.a.createElement("small",null,"\u05d4\u05de\u05d5\u05e6\u05e8\u05d9\u05dd \u05e9\u05d7\u05e1\u05e8\u05d9\u05dd \u05d4\u05dd")),e.OutOfStock.map((function(e,n){return r.a.createElement("p",{key:n},r.a.createElement("span",null,e.product_name,","),r.a.createElement("button",{onClick:function(){return K(t,n)}},"\u05d7\u05e4\u05e9 \u05de\u05d5\u05e6\u05e8 \u05ea\u05d7\u05dc\u05d9\u05e4\u05d9"))}))))}))),r.a.createElement("div",{className:"footer"},r.a.createElement(re.a,{ariaLabel:"SpeedDial",icon:r.a.createElement(ce.a,{style:{height:"1.4em"}}),onClose:function(){b(!1)},onOpen:function(){b(!0)},open:p,direction:"up"},ye.map((function(e){return r.a.createElement(oe.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:function(){return function(e){var t={};"Location"===e&&(console.log(e),navigator.geolocation?navigator.geolocation.watchPosition((function(e){console.log("Latitude is :",e.coords.latitude),console.log("Longitude is :",e.coords.longitude),t={lat:e.coords.latitude,lng:e.coords.longitude},alert(t.lat+" "+t.lng)})):alert("not working"))}(e.name)}})})))))})),Ee={TestFunction:{action:"TestFunction"},GetChains:{action:"GetChains"},GetStoresByChain:{action:"GetStoresByChain",chain_id:"",sub_chain_id:"",limit:10},GetStoresByCityID:{action:"GetStoresByCityID",city_id:"",limit:3},GetStoresByGPS:{action:"GetStoresByGPS",chain_id:"",sub_chain_id:"",latitude:"",longitude:"",km_radius:"",order:"",limit:10},GetProductsByBarCode:{action:"GetProductsByBarCode",product_barcode:"",limit:3},GetProductsByID:{action:"GetProductsByID",product_id:"",limit:10},GetProductsByName:{action:"GetProductsByName",product_name:"",limit:5},GetPrice:{action:"GetPrice",store_id:"",limit:10},GetPriceByProductBarCode:{action:"GetPriceByProductBarCode",store_id:"",product_barcode:""},GetPriceByProductID:{action:"GetPriceByProductID",store_id:"",product_id:""},GetHistoryByProductBarCode:{action:"GetHistoryByProductBarCode",store_id:"",product_barcode:"",from_date:"",to_date:""},GetHistoryByProductID:{action:"GetHistoryByProductID",store_id:"",product_id:"",from_date:"",to_date:""},GetCities:{action:"GetCities",limit:10},GetCityByName:{action:"GetCityByName",city_name:"",limit:1}},ye=[{icon:r.a.createElement(le.a,null),name:"Location"},{icon:r.a.createElement(ue.a,null),name:"AddProduct"},{icon:r.a.createElement(pe.a,null),name:"SetDeadLine"},{icon:r.a.createElement(he.a,null),name:"Search"}],je=n(527),ve=Object(i.h)((function(){var e=Object(i.f)(),t=Object(a.useState)(["\u05dc\u05d7\u05dd","\u05d7\u05dc\u05d1","\u05d7\u05d5\u05de\u05d5\u05e1"," \u05d2\u05d1\u05d9\u05e0\u05d4 \u05dc\u05d1\u05e0\u05d4 5%","\u05d1\u05d9\u05e6\u05d9\u05dd","\u05e9\u05de\u05df \u05d6\u05d9\u05ea","\u05d6\u05d9\u05ea\u05d9\u05dd","\u05de\u05e8\u05d2\u05e8\u05d9\u05e0\u05d4","\u05d2\u05d1\u05d9\u05e0\u05d4 \u05e6\u05d4\u05d5\u05d1\u05d4","\u05d2\u05d9\u05dc","\u05d9\u05d5\u05d2\u05d5\u05e8\u05d8","\u05e9\u05d5\u05e7\u05dc\u05d3","\u05d0\u05e4\u05e8\u05e1\u05e7\u05d9\u05dd","\u05ea\u05e4\u05d5\u05d7\u05d9\u05dd","\u05d0\u05d1\u05d8\u05d9\u05d7","\u05e7\u05d1\u05d1\u05d9\u05dd","\u05d0\u05e0\u05d8\u05e8\u05d9\u05e7\u05d5\u05d8","\u05d7\u05d6\u05d4 \u05e2\u05d5\u05e3","\u05d9\u05e8\u05e7\u05d5\u05ea \u05e1\u05e0\u05e4\u05e8\u05d5\u05e1\u05d8 \u05dc\u05ea\u05e0\u05d5\u05e8","\u05ea\u05d1\u05dc\u05d9\u05e0\u05d9\u05dd"]),n=Object(f.a)(t,2),c=n[0];n[1];return r.a.createElement("div",null,r.a.createElement("h3",{id:"productCart-headline"},"\u05d4\u05e8\u05e9\u05d9\u05de\u05d4 \u05e9\u05dc\u05d9"),r.a.createElement("div",{id:"productCart-list"},r.a.createElement(O.SwipeableList,null,c.map((function(e,t){return r.a.createElement(O.SwipeableListItem,{key:t,swipeRight:{content:r.a.createElement("div",{className:"swipe-divs"},"\u05dc\u05d0 \u05dc\u05e7\u05d7\u05ea\u05d9"),action:function(){return console.info("swipe action triggered")}}},r.a.createElement(je.a,{color:"primary"}),r.a.createElement("div",null,e))})))),r.a.createElement("div",{id:"buttons-container"},r.a.createElement(y.a,{badgeContent:2,color:"error"},r.a.createElement(w.a,{variant:"contained",color:"primary",onClick:function(){e.push("/MyCart")}},"\u05d4\u05e2\u05d2\u05dc\u05d4 \u05e9\u05dc\u05d9")),r.a.createElement(y.a,{badgeContent:4,color:"error"},r.a.createElement(w.a,{variant:"contained",color:"primary"},"\u05dc\u05d0 \u05dc\u05e7\u05d7\u05ea\u05d9"))))})),Oe=Object(i.h)((function(){var e=Object(i.f)();return r.a.createElement("div",null,r.a.createElement("h3",{id:"productCart-headline"},"\u05d4\u05e2\u05d2\u05dc\u05d4 \u05e9\u05dc\u05d9"),r.a.createElement("div",{id:"productCart-list"},r.a.createElement(O.SwipeableList,null,["\u05dc\u05d7\u05dd","\u05d7\u05dc\u05d1","\u05d7\u05d5\u05de\u05d5\u05e1"," \u05d2\u05d1\u05d9\u05e0\u05d4 \u05dc\u05d1\u05e0\u05d4 5%","\u05d1\u05d9\u05e6\u05d9\u05dd","\u05e9\u05de\u05df \u05d6\u05d9\u05ea","\u05d6\u05d9\u05ea\u05d9\u05dd","\u05de\u05e8\u05d2\u05e8\u05d9\u05e0\u05d4"].map((function(e,t){return r.a.createElement(O.SwipeableListItem,{key:t,swipeRight:{content:r.a.createElement("div",{className:"swipe-divs"},"\u05dc\u05d4\u05d7\u05d6\u05d9\u05e8 \u05dc\u05e8\u05e9\u05d9\u05de\u05ea \u05e7\u05e0\u05d9\u05d5\u05ea"),action:function(){return console.info("swipe action triggered")}}},r.a.createElement(je.a,{color:"primary"}),r.a.createElement("div",null,e))})))),r.a.createElement(w.a,{variant:"contained",color:"primary",onClick:function(){e.goBack()}},"\u05d7\u05d6\u05e8\u05d4 \u05dc\u05e8\u05e9\u05d9\u05de\u05d4 \u05e9\u05dc\u05d9"))})),xe=n(226),Pe=n.n(xe),Ce=n(531),ke=n(229);n(274);function we(){var e=r.a.useState(null),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Boolean(n),o=function(){a(null)};return r.a.createElement("nav",{className:"nav"},r.a.createElement("div",{className:"nav-Logo"},r.a.createElement(K.a,null)),r.a.createElement("div",{className:"nav-Profile"},r.a.createElement(K.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){console.log(e.currentTarget),a(e.currentTarget)},color:"inherit"},r.a.createElement(Pe.a,null)),r.a.createElement(ke.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:c,onClose:o},r.a.createElement(Ce.a,{onClick:o},"\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc"),r.a.createElement(Ce.a,{onClick:o},"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea"))))}n(117);var Ge=Object(i.h)((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(z,null,r.a.createElement(J,null,r.a.createElement(Z,null,r.a.createElement(be,null,r.a.createElement(we,null),r.a.createElement(s,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:V})," ",r.a.createElement(i.a,{path:"/HomePage/:userIDfromRN",component:V}),r.a.createElement(i.a,{path:"/TempPage/:id",component:ae}),r.a.createElement(i.a,{path:"/AGroups",component:ne})," ",r.a.createElement(i.a,{path:"/AList",component:ge}),r.a.createElement(i.a,{path:"/SuperMarketList",component:ve}),r.a.createElement(i.a,{path:"/MyCart",component:Oe})))))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,null,r.a.createElement(Ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[242,1,2]]]);
//# sourceMappingURL=main.b7a031ed.chunk.js.map